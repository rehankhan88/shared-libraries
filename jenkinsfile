@Library("rehanshared") _ 
pipeline {
  agent any
  stages {
    stage('Hello'){
        steps{
            script{
                hello()
            }
        }
    }  
    stage('Code') {
      steps {
          script{
            code_checkout('https://github.com/rehankhan88/Mydjango-notes-app.git', 'main')
          }
      }
    }

    stage('Build') {
      steps {
          script{
              docker_build('notes-app', 'latest', 'rehankhan88')
          }
      }
    }

    stage('Push goto DockerHub') {
  steps {
      script{
          docker_push('notes-app', 'latest', 'rehan088')
      }
    
  }
}


    stage('Deploy') {
      steps {
          script{
              docker_compose()
          }
        
      }
    }
  }
}
